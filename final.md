## Final

For the final project, I created a smoothed particle hydrodynamics (SPH) liquid simulation. The program was made in C++ with a from-scratch OpenGL 4 renderer using a compute shader for the fluid simulation and instanced rendering to display it. There is also a Dear ImGui panel to configure the simulation while it's running.

The idea behind SPH is to simulate liquid in terms of a "density distribution" of water particles, rather than a grid based method like other fluid simulations. This density distribution is a way for the model to approximate the density at a point in a continuous field, which is needed for the maths required to do fluid simulation (eg. Navier Stokes equations). My implementation takes a lot of creative liberties for the pressure force solver and instead of implementing proper the Navier Stokes solver for incompressible fluid I just used a linear approximation, as the goal was just to get something that visually appears like fluid and not to create something like an engineering solution where it needs to be physically accurate. The core principle of the fluid simulation is that because the liquid is an incompressible fluid, the pressure forces just need to create a uniform density of particles, specifically acheiving the "target density" parameter set for the simulation. In order to actually implement this there are a couple of tricks needed to get the integration precise enough for a stable simulation: Euler integration alone is not enough and will create weird behaviour, so short of implementing a more complicated integrator, some methods include predicting the future state of the simulation after each timestep and including those into the calculation, so the fluid reaches equilibrium much faster.

A few of the things I tried for visualization were coloring the fluid based off its velocity at a point (which is the default), but also coloring based off of density. One thing I want to try in the future is to simulate "foam" and sea spray. A method used in 2d wave approximations used in video games is to use the Jacobian of the wave heights to find where foam should go, but this doesn't work in 3d and a more in-depth method is needed.